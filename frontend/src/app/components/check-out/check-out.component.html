<div
  *ngIf="showPaymentAlert"
  class="alert alert-success alert-dismissible fade show"
  role="alert"
>
  <i class="bi bi-check-circle-fill"></i>
  Payment successful! Your order has been placed.

  <button
    type="button"
    class="btn-close"
    (click)="showPaymentAlert = false"
  ></button>
</div>


<!-- -------->

<div class="container-fluid text-center ">
  <div class="row text-bg-light">
    <div class="col-md-8 text-bg-light">
        
      <div class="card">
        <div class="card-header text-dark fw-bold fs-3">My Cart</div>

     <div class="card mb-2 text-bg-light" *ngFor="let cartItem of pizzaItems; let i = index">
  <div class="card-body d-flex align-items-center justify-content-between">

    <div>
      <img 
        *ngIf="cartItem.pizza"
        [src]="cartItem.pizza.image"
        width="60"
      >
    </div>

    <div class="ms-5">
      <img *ngIf="cartItem.pizza.type=='veg'" src="../assets/images/veg-icon.png" width="30" >
      <img *ngIf="cartItem.pizza.type=='nonveg'" src="../assets/images/non-veg-icon.png" width="30" >
    </div>


    <div class="ms-3 flex-grow-1">
      <h6>
        {{ cartItem.pizza.name |titlecase}}
      </h6>


      <small >
        <i class="bi bi-currency-rupee fs-5"></i>{{ cartItem.pizza.price |number:'1.2-2'}}
      </small>
    </div>

 
    <div class="d-flex align-items-center">
      <button class="btn btn-secondary" (click)="DecreaseQty(i)">-</button>
      <span class="mx-2">{{ cartItem.quantity }}</span>
      <button class="btn btn-secondary" (click)="IncreaseQty(i)">+</button>
    </div>


    <div class="ms-4 text-end">
      <div><i class="bi bi-currency-rupee fs-5"></i>{{ cartItem.quantity * cartItem.totalPrice }}</div>
      <button
        class="btn btn-sm btn-outline-danger mt-1"
        (click)="removeCartItem(i)"
      >
        <i class="bi bi-trash"></i>
      </button>
    </div>

  </div>
</div>

 <div class="card-body fs-4 ms-4 text-end fw-bold">
   Sub Total:<i class="bi bi-currency-rupee"></i> {{pizzaTotal|number:'1.2-2'}}
 </div>

  
  </div>
 </div> 
 <div class="col-md-4 text-bg-light text-dark">

  <div class="card p-3">
  <h5>The total amount of</h5>


  <div class="d-flex justify-content-between border-bottom py-2">
    <span>Pizza</span>
    <span><i class="bi bi-currency-rupee fs-5"></i>{{pizzaTotal|number:'1.2-2'}}</span>
  </div>

  <div class="d-flex justify-content-between py-2">
    <div
      style="cursor:pointer"
      data-bs-toggle="collapse"
      data-bs-target="#ingredientsPanel"
    >
      Ingredients
      <i class="bi bi-chevron-down ms-1"></i>
    </div>
    <span><i class="bi bi-currency-rupee fs-5"></i>{{ ingredientTotal |number:'1.2-2'}}</span>
  </div>

  <div id="ingredientsPanel" class="collapse mt-2">
    <div *ngFor="let t of ingredientItems" class="small text-muted ps-2 text-start">
      {{ t.tname }} â€” <i class="bi bi-currency-rupee fs-5"></i>{{ t.price |number:'1.2-2'}}
    </div>
  </div>

  <div class="border-top mt-2 pt-2 fw-bold text-end">
    Total:<i class="bi bi-currency-rupee fs-5"></i>{{ pizzaTotal+ingredientTotal |number:'1.2-2' }}
  </div>

  <div class="mt-3 d-flex justify-content-between">
    <button class="btn btn-success w-100" (click)="pay()">Pay</button>
    <button class="btn btn-dark" (click)="clearCart()" >Clear</button>
  </div>
</div>
</div>
      
</div> 
    
</div>